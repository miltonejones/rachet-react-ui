{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\";\nexport default function useCollapse(height, on) {\n  _s();\n\n  const [openHeight, setOpenHeight] = React.useState(height);\n  const ref = /*#__PURE__*/React.createRef();\n  React.useEffect(() => {\n    if (!ref.current) return;\n    const {\n      offsetHeight\n    } = ref.current;\n    if (offsetHeight < 100) return;\n\n    if (!!height || !offsetHeight || !on) {\n      height !== openHeight && setOpenHeight(height);\n      return;\n    }\n\n    setOpenHeight(offsetHeight + \"px\");\n  }, [ref, on, height, openHeight]);\n  const style = {\n    \"--open-height\": openHeight\n  };\n  return {\n    style,\n    ref\n  };\n}\n\n_s(useCollapse, \"geVGinkcrdIiw52QFYDS9K3D+8w=\");","map":{"version":3,"sources":["/home/miltonejones/projects/rachet-react-ui/src/components/UI/hooks/useCollapse.js"],"names":["React","useCollapse","height","on","openHeight","setOpenHeight","useState","ref","createRef","useEffect","current","offsetHeight","style"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,WAAT,CAAqBC,MAArB,EAA6BC,EAA7B,EAAiC;AAAA;;AAC9C,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BL,KAAK,CAACM,QAAN,CAAeJ,MAAf,CAApC;AACA,QAAMK,GAAG,gBAAGP,KAAK,CAACQ,SAAN,EAAZ;AACAR,EAAAA,KAAK,CAACS,SAAN,CAAgB,MAAM;AACpB,QAAI,CAACF,GAAG,CAACG,OAAT,EAAkB;AAClB,UAAM;AAAEC,MAAAA;AAAF,QAAmBJ,GAAG,CAACG,OAA7B;AACA,QAAIC,YAAY,GAAG,GAAnB,EAAwB;;AACxB,QAAI,CAAC,CAACT,MAAF,IAAY,CAACS,YAAb,IAA6B,CAACR,EAAlC,EAAsC;AACpCD,MAAAA,MAAM,KAAKE,UAAX,IAAyBC,aAAa,CAACH,MAAD,CAAtC;AACA;AACD;;AACDG,IAAAA,aAAa,CAACM,YAAY,GAAG,IAAhB,CAAb;AACD,GATD,EASG,CAACJ,GAAD,EAAMJ,EAAN,EAAUD,MAAV,EAAkBE,UAAlB,CATH;AAUA,QAAMQ,KAAK,GAAG;AAAE,qBAAiBR;AAAnB,GAAd;AACA,SAAO;AAAEQ,IAAAA,KAAF;AAASL,IAAAA;AAAT,GAAP;AACD;;GAfuBN,W","sourcesContent":["import React from \"react\";\r\n\r\nexport default function useCollapse(height, on) {\r\n  const [openHeight, setOpenHeight] = React.useState(height);\r\n  const ref = React.createRef();\r\n  React.useEffect(() => {\r\n    if (!ref.current) return;\r\n    const { offsetHeight } = ref.current;\r\n    if (offsetHeight < 100) return;\r\n    if (!!height || !offsetHeight || !on) {\r\n      height !== openHeight && setOpenHeight(height);\r\n      return;\r\n    }\r\n    setOpenHeight(offsetHeight + \"px\");\r\n  }, [ref, on, height, openHeight]);\r\n  const style = { \"--open-height\": openHeight };\r\n  return { style, ref };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}